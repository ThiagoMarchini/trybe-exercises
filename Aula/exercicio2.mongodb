// Selecione os quatro primeiros clientes com as suas respectivas transações recebidas ordenados pelo estado em ordem alfabética;

use ("agg_example");

db.clients.aggregate([
  {
    $lookup: {
      from: "transactions",
      localField: "name",
      foreignField: "from",
      as: "transactions",
    },
  },
  { $sort: { State: 1 } },
  { $limit: 4 },
]);
